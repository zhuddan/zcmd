// api/<%= modelName %>.ts

import { API_URL } from '@mini/service'
import { request } from '@mini/shared'

/**
 * 修改<%= businessName %>
 * @param data <%= businessName %>数据
 * @returns 修改的<%= businessName %>
 */
export function update<%= public_sign %><%= model%>(data: Partial<Api.<%= model%>>) {
  return request.put({
    url: API_URL.<%= url_constant %>,
    data,
  })
}

// hooks/<%= modelName %>.ts

import { useMutation } from '@tanstack/react-query'
import { update<%= public_sign %><%= model%> } from '../api/<%= modelName %>'

/**
 * 修改<%= businessName %>的 Hook
 */
export function use<%= public_sign %>Update<%= model%>({
  onSuccess,
  onError,
}: {
  onSuccess?: () => void
  onError?: (error: Error) => void
} = {}) {
  return useMutation({
    mutationFn: async (data: Partial<Api.<%= model%>>) => {
      return await update<%= public_sign %><%= model%>(data)
    },
    onSuccess,
    onError,
  })
}
